<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <!-- Improved viewport for mobile / iPhone Chrome -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <title>Weather â€¢ Material Dashboard</title>
  <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>â˜€ï¸</text></svg>">
  <link rel="stylesheet" href="style.css" />
  <!-- Chart.js CDN -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <meta name="theme-color" content="#6750A4" />
</head>
<body>
  <main class="app" id="app">
    <header class="topbar">
      <div class="brand">
        <div class="logo">W</div>
        <div class="title">
          <div class="h1">Weather</div>
          <div class="muted">Material 3 Dashboard</div>
        </div>
      </div>

      <div class="controls">
        <div class="unit-toggle" id="unitToggle" title="Toggle Â°C / Â°F">Â°C</div>
        <button class="icon-btn" id="themeToggle" aria-label="Toggle theme">ğŸŒ“</button>
      </div>
    </header>

    <section class="search-section card">
      <div class="search-left">
        <div class="search-wrapper">
          <input id="cityInput" class="search-input" placeholder="Search city, e.g. London" autocomplete="off" />
          <ul id="suggestions" class="suggestions" hidden></ul>
        </div>

        <div class="search-actions">
          <button id="searchBtn" class="btn">Search</button>
          <button id="locBtn" class="btn outline">Use My Location</button>
        </div>
      </div>

      <div class="last-favorites">
        <div class="last-saved muted" id="lastSaved">Last: â€”</div>
        <button id="addFavBtn" class="btn outline small">â˜† Add Favorite</button>
      </div>
    </section>

    <section class="dashboard">
      <div class="current card" id="currentCard" aria-live="polite">
        <div class="current-top">
          <div>
            <div class="city" id="cityName">â€”</div>
            <div class="desc" id="weatherDesc">â€”</div>
          </div>
          <div class="temp-block">
            <!-- still an <img> so nothing removed; we set src to SVG data URIs -->
            <img id="weatherIcon" src="" alt="" class="weather-icon" />
            <div class="temp-value">
              <!-- Primary temp (follows unit preference) -->
              <div id="tempNow">â€”Â°</div>
              <!-- Always show both units -->
              <div class="dual-temp muted" id="tempBoth">â€”Â°C / â€”Â°F</div>
              <div class="feels muted" id="feelsLike">Feels like â€”Â°</div>
            </div>
          </div>
        </div>

        <div class="current-stats">
          <div class="stat">
            <div class="stat-value" id="humidity">â€”%</div>
            <div class="stat-label">Humidity</div>
          </div>
          <div class="stat">
            <div class="stat-value" id="wind">â€” m/s</div>
            <div class="stat-label">Wind</div>
          </div>
          <div class="stat">
            <div class="stat-value" id="pressure">â€” hPa</div>
            <div class="stat-label">Pressure</div>
          </div>
          <div class="stat">
            <div class="stat-value" id="clouds">â€”%</div>
            <div class="stat-label">Clouds</div>
          </div>
        </div>

        <div class="sun-times">
          <div>Sunrise: <span id="sunrise">â€”</span></div>
          <div>Sunset: <span id="sunset">â€”</span></div>
        </div>
      </div>

      <div class="forecast card" id="forecastCard">
        <div class="forecast-title">5-Day Forecast</div>
        <div class="forecast-list" id="forecastList">
          <!-- forecast cards injected here -->
        </div>

        <div class="hourly-chart-section">
          <div class="hourly-title">Next 24 hours</div>
          <canvas id="hourlyChart" height="120"></canvas>
        </div>

        <div class="favorites-section card small-card" id="favoritesCard">
          <div class="fav-title">Favorites</div>
          <ul id="favoritesList" class="favorites-list"></ul>
        </div>
      </div>
    </section>

    <footer class="footer muted">
      <div>Built with â¤ï¸ â€¢ OpenWeatherMap API â€¢ Material 3 design</div>
      <div class="small">Tip: Save your API key in a GitHub Pages secret? (public sites need client-side key; keep limits in mind)</div>
    </footer>

    <div id="toast" class="toast" role="status" aria-live="polite" hidden></div>

    <!-- Loader: visible/hidden controlled by script. Kept in DOM. -->
    <div id="loader" class="loader" hidden>
      <div class="spinner"></div>
    </div>
  </main>

  <script src="script.js"></script>
</body>
</html>
